<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="A front-end template that helps you build fast, modern mobile web apps.">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <title>React and Class Properties</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.grey-orange.min.css">
    <link rel="stylesheet" href="styles.css">
  </head>
  <body>
    <header class="mdl-layout__header mdl-layout__header--transparent">
      <div class="mdl-layout__header-row">
        <span class="mdl-layout-title">Puxuan's Home</span>
        <div class="mdl-layout-spacer"></div>
        <nav class="mdl-navigation">
          <a class="mdl-navigation__link" href="index.html">Posts</a>
          <a class="mdl-navigation__link" href="resume.html">Resume</a>
        </nav>
      </div>
    </header>
    <div class="demo-blog demo-blog--blogpost mdl-layout mdl-js-layout has-drawer is-upgraded">
      <main class="mdl-layout__contentt">
        <div class="demo-blog__posts mdl-grid">
          <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">
            <div class="mdl-card__media mdl-color-text--grey-50 start-react">
              <h3>Use Class properties in your react project</h3>
            </div>
            <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">
              <div class="minilogo"></div>
              <div>
                <span>01/10/2017</span>
              </div>
            </div>
            <div class="mdl-color-text--grey-700 mdl-card__supporting-text">
              <p>
                ReactJs is a rather popular Javascript framework to build UI. Everything looks wonderful until I start to attach callback functions to a button or a link. When I first started to write a react application, this was something I started with:
              </p>
              <script src="https://gist.github.com/hepuxuan/21b50cc7e8b944851d8a10000c44547a.js"></script>
              <p>
                However this doesn't work because when the callback function tries to invoke <code>alert(this.state.text)</code>, it doesn't know where to find the current scope and since I am on strict mode I will get an error. Luckily the fix is easy and I can do something like this to fix the issue:
              </p>
              <script src="https://gist.github.com/hepuxuan/c22b4ed02a6162490621bf0121f474b6.js"></script>
              <p>
                Note that I added <code>bind(this)</code> and it will create a new function under the current scope which has access to the state object. However this is still not the ideal solution because I am basically creating a new function whenever I re-render the component. Could I create the function just once? The answer is yes, I can invoke <code>bind(this)</code> in my constructor like this:
              </p>
              <script src="https://gist.github.com/hepuxuan/134be531903153f277e1822c1adec188.js"></script>
              <p>
                This is great and now I'm not creating a new function every time I render the component. But I am still not totally satisfied because now if I want to rename the function, I suddenly have 2 more places to remember to change. For a long time this had been something I had to deal with but now there is this HOPE: <a href="https://babeljs.io/docs/plugins/transform-class-properties/">Class Properties</a>. Basically what Class Properties allows you to do is you can assign an arrow function to a class property. This is exciting because arrow functions automatically binds the current scope to the function. And the final version looks something like this:
              </p>
              <script src="https://gist.github.com/hepuxuan/de2c3dd24e571cf2213e54ded9de9086.js"></script>
              <p>
                Note that this feature is still in stage 2 and hasn't been finalized yet, but I'm seeing a lot of people are using it with Babel. Hope you like my post and enjoy creating UI with react.
              </p>
            </div>
          </div>
        </div>
      </main>
      <div class="mdl-layout__obfuscator"></div>
    </div>
    <script src="https://code.getmdl.io/1.3.0/material.min.js"></script>
  </body>
</html>

